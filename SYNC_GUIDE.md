# ๐ ุฏููู ูุฒุงููุฉ ุงูุจูุงูุงุช ูู Odoo ุฅูู Supabase

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงูุฏููู ูุดุฑุญ ููููุฉ ูุฒุงููุฉ ุงูุจูุงูุงุช ูู ูุธุงู **Odoo ERP** ุฅูู **Supabase** ุจุดูู ุชููุงุฆู ููุฏูู.

### ุงูุจูุงูุงุช ุงููููููุฉ:
- โ **ุทูุจุงุช ุงููุจูุนุงุช** (pos_order) - 28,589 ุทูุจ
- โ **ุงูุนููุงุก** (res_partner) - 4,909 ุนููู
- โ **ุงูููุชุฌุงุช** (product_product) - 29,186 ููุชุฌ
- โ **ุงููุฎุฒูู** (stock_quant) - ~5,000 ุณุฌู

---

## ๐ง ุงูุฅุนุฏุงุฏ ุงูุฃููู

### 1๏ธโฃ ุฅุถุงูุฉ GitHub Secrets

ูุฌุจ ุฅุถุงูุฉ 6 ูุชุบูุฑุงุช ุจูุฆูุฉ ุฅูู GitHub Secrets:

**ุงูุฎุทูุงุช:**
1. ุงุฐูุจ ุฅูู: `https://github.com/Samialharb/sami-pharmacy-analytics/settings/secrets/actions`
2. ุงุถุบุท ุนูู **"New repository secret"**
3. ุฃุถู ุงููุชุบูุฑุงุช ุงูุชุงููุฉ:

| ุงููุชุบูุฑ | ุงููููุฉ | ุงูููุงุญุธุงุช |
|---------|--------|----------|
| `ODOO_URL` | `https://health-path.erp-ksa.aumet.com` | ุฑุงุจุท Odoo |
| `ODOO_DB` | `health-path.erp-ksa.aumet.com` | ุงุณู ูุงุนุฏุฉ ุงูุจูุงูุงุช |
| `ODOO_USERNAME` | `admin` | ุงุณู ุงููุณุชุฎุฏู |
| `ODOO_PASSWORD` | `***` | ูููุฉ ุงููุฑูุฑ (ุณุฑูุฉ!) |
| `SUPABASE_URL` | `https://zcpxhbqjqxvwgqpxbvdx.supabase.co` | ุฑุงุจุท Supabase |
| `SUPABASE_SERVICE_ROLE_KEY` | `eyJhbGc...` | ููุชุงุญ ุงูุฎุงุฏู (ุณุฑูุฉ!) |

### 2๏ธโฃ ุชุซุจูุช ุงูููุชุจุงุช (ูุญููุงู)

```bash
cd sami_aumet_analytics
npm install node-fetch @supabase/supabase-js
```

---

## ๐ ุงูุชุดุบูู

### ุงูุทุฑููุฉ 1๏ธโฃ: ุงูุชุดุบูู ุงููุฏูู (ูุญููุงู)

```bash
# ุชุนููู ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ
export ODOO_URL="https://health-path.erp-ksa.aumet.com"
export ODOO_DB="health-path.erp-ksa.aumet.com"
export ODOO_USERNAME="admin"
export ODOO_PASSWORD="your_password"
export SUPABASE_URL="https://zcpxhbqjqxvwgqpxbvdx.supabase.co"
export SUPABASE_SERVICE_ROLE_KEY="your_key"

# ุชุดุบูู ุงูุณูุฑูุจุช
node scripts/sync_odoo.mjs
```

### ุงูุทุฑููุฉ 2๏ธโฃ: ุงูุชุดุบูู ุงูุชููุงุฆู (GitHub Actions)

**ุงูุฌุฏูู ุงูุฒููู:**
- โฐ **ููููุงู ุงูุณุงุนุฉ 2 ุตุจุงุญุงู** (UTC+3)
- ๐ **ูุฏููุงู ูู GitHub Actions**

**ุงูุฎุทูุงุช:**
1. ุงุฐูุจ ุฅูู: `https://github.com/Samialharb/sami-pharmacy-analytics/actions`
2. ุงุฎุชุฑ: **"๐ Sync Odoo Data to Supabase"**
3. ุงุถุบุท: **"Run workflow"**

---

## ๐ ุงููุฎุฑุฌุงุช ุงููุชููุนุฉ

ุนูุฏ ุชุดุบูู ุงูุณูุฑูุจุช ุจูุฌุงุญุ ุณุชุดุงูุฏ:

```
๐ ุจุฏุก ูุฒุงููุฉ ุงูุจูุงูุงุช ูู Odoo ERP ุฅูู Supabase

============================================================
๐ ุฌุงุฑู ุงูุงุชุตุงู ุจู Odoo...
   URL: https://health-path.erp-ksa.aumet.com
   Database: health-path.erp-ksa.aumet.com
โ ุชู ุงูุงุชุตุงู ุจูุฌุงุญ! User ID: 7

๐ฅ ุฌุงุฑู ุณุญุจ ุทูุจุงุช ุงููุจูุนุงุช ูู Odoo...
โ ุชู ุณุญุจ 28589 ุทูุจ ูุจูุนุงุช

๐ฅ ุฌุงุฑู ุณุญุจ ุงูุนููุงุก ูู Odoo...
โ ุชู ุณุญุจ 4909 ุนููู

๐ฆ ุฌุงุฑู ุณุญุจ ุงูููุชุฌุงุช ูู Odoo...
โ ุชู ุณุญุจ 29186 ููุชุฌ

๐ ุฌุงุฑู ุณุญุจ ุจูุงูุงุช ุงููุฎุฒูู ูู Odoo...
โ ุชู ุณุญุจ 5000 ุณุฌู ูุฎุฒูู

๐พ ุฌุงุฑู ุฅุฏุฑุงุฌ ุทูุจุงุช ุงููุจูุนุงุช ูู Supabase...
โ ุชู ุฅุฏุฑุงุฌ 28589 ุทูุจ ูุจูุนุงุช

๐พ ุฌุงุฑู ุฅุฏุฑุงุฌ ุงูุนููุงุก ูู Supabase...
โ ุชู ุฅุฏุฑุงุฌ 4909 ุนููู

๐พ ุฌุงุฑู ุฅุฏุฑุงุฌ ุงูููุชุฌุงุช ูู Supabase...
โ ุชู ุฅุฏุฑุงุฌ 29186 ููุชุฌ

๐พ ุฌุงุฑู ุฅุฏุฑุงุฌ ุจูุงูุงุช ุงููุฎุฒูู ูู Supabase...
โ ุชู ุฅุฏุฑุงุฌ 5000 ุณุฌู ูุฎุฒูู

============================================================
โ ุงูุชููุช ุงููุฒุงููุฉ ุจูุฌุงุญ!
โฑ๏ธ  ุงููุฏุฉ: 45.23 ุซุงููุฉ

๐ ููุฎุต ุงูุจูุงูุงุช ุงููููููุฉ:
   โข ุทูุจุงุช ุงููุจูุนุงุช: 28589
   โข ุงูุนููุงุก: 4909
   โข ุงูููุชุฌุงุช: 29186
   โข ุณุฌูุงุช ุงููุฎุฒูู: 5000
   โข ุงูุฅุฌูุงูู: 67684
```

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### โ ุฎุทุฃ: "ูุดู ุงูุงุชุตุงู ุจู Odoo"

**ุงูุญููู:**
1. ุชุญูู ูู ุฑุงุจุท Odoo: `https://health-path.erp-ksa.aumet.com`
2. ุชุญูู ูู ุงุณู ูุงุนุฏุฉ ุงูุจูุงูุงุช: `health-path.erp-ksa.aumet.com`
3. ุชุญูู ูู ุจูุงูุงุช ุงููุณุชุฎุฏู (ุงุณู + ูููุฉ ุงููุฑูุฑ)
4. ุชุฃูุฏ ูู ุฃู Odoo ูุชุตู ุจุงูุฅูุชุฑูุช

### โ ุฎุทุฃ: "ูุชุบูุฑุงุช ุจูุฆูุฉ ููููุฏุฉ"

**ุงูุญู:**
```bash
# ุชุฃูุฏ ูู ุชุนููู ุฌููุน ุงููุชุบูุฑุงุช:
echo $ODOO_PASSWORD
echo $SUPABASE_URL
echo $SUPABASE_SERVICE_ROLE_KEY
```

### โ ุฎุทุฃ: "ูุดู ุงูุฅุฏุฑุงุฌ ูู Supabase"

**ุงูุญููู:**
1. ุชุญูู ูู ุฃู ุงูุฌุฏุงูู ููุฌูุฏุฉ ูู Supabase
2. ุชุญูู ูู ุตูุงุญูุงุช ููุชุงุญ ุงูุฎุงุฏู
3. ุชุญูู ูู ุตูุบุฉ ุงูุจูุงูุงุช (ุฃููุงุน ุงูุจูุงูุงุช)

---

## ๐ ูุฑุงูุจุฉ ุงููุฒุงููุฉ

### ุนุฑุถ ุณุฌูุงุช GitHub Actions

1. ุงุฐูุจ ุฅูู: `https://github.com/Samialharb/sami-pharmacy-analytics/actions`
2. ุงุฎุชุฑ ุขุฎุฑ ุชุดุบูู
3. ุดุงูุฏ ุงูุณุฌูุงุช ุงูุชูุตูููุฉ

### ุงูุชุญูู ูู ุงูุจูุงูุงุช ูู Supabase

```sql
-- ุนุฏุฏ ุทูุจุงุช ุงููุจูุนุงุช
SELECT COUNT(*) FROM pos_order;

-- ุขุฎุฑ ุชุญุฏูุซ
SELECT MAX(date_order) FROM pos_order;

-- ุนุฏุฏ ุงูุนููุงุก
SELECT COUNT(*) FROM res_partner;

-- ุนุฏุฏ ุงูููุชุฌุงุช
SELECT COUNT(*) FROM product_product;
```

---

## ๐ ุงูุฃูุงู

### โ ุฃูุถู ุงูููุงุฑุณุงุช:

1. **ูุง ุชุดุงุฑู ุงููุชุบูุฑุงุช ุงูุณุฑูุฉ:**
   - ูุง ุชุถุน ูููุงุช ุงููุฑูุฑ ูู ุงูููุฏ
   - ุงุณุชุฎุฏู GitHub Secrets ููุท

2. **ุงุณุชุฎุฏู ููุชุงุญ ุงูุฎุงุฏู (Service Role Key):**
   - ูุง ุชุณุชุฎุฏู ููุชุงุญ Anon ูู ุงููุฒุงููุฉ
   - ููุชุงุญ ุงูุฎุงุฏู ูู ุตูุงุญูุงุช ูุงููุฉ

3. **ุญุฏ ูู ุงููุตูู:**
   - ุงุณุชุฎุฏู ุญุณุงุจุงุช ูุญุฏูุฏุฉ ุงูุตูุงุญูุงุช ุฅู ุฃููู
   - ุฑุงูุจ ุณุฌูุงุช ุงููุตูู

---

## ๐ ุงูุฌุฏูู ุงูุฒููู

| ุงูููุช | ุงูุฅุฌุฑุงุก | ุงูุญุงูุฉ |
|-------|--------|--------|
| 2:00 AM UTC+3 | ูุฒุงููุฉ ุชููุงุฆูุฉ ููููุฉ | โ ููุนู |
| ูุฏูููุงู | ุชุดุบูู ูู GitHub Actions | โ ูุชุงุญ |
| ุนูุฏ ุงูุฏูุน | ุชุดุบูู ุนูุฏ Push (ุงุฎุชูุงุฑู) | โธ๏ธ ูุนุทู |

---

## ๐ ุงูุชุทููุฑ ุงููุณุชูุจูู

### ุงููููุฒุงุช ุงููุฎุทุท ุฅุถุงูุชูุง:

- [ ] ุฅุถุงูุฉ ูุฒุงููุฉ ุชูุงุตูู ุทูุจุงุช ุงููุจูุนุงุช (pos_order_line)
- [ ] ุฅุถุงูุฉ ูุฒุงููุฉ ุชูุงุตูู ุทูุจุงุช ุงูุดุฑุงุก (purchase_order_line)
- [ ] ุฅุถุงูุฉ ูุฒุงููุฉ ุญุฑูุงุช ุงููุฎุฒูู (stock_move)
- [ ] ุฅุถุงูุฉ ุชูุจููุงุช ุนูุฏ ูุดู ุงููุฒุงููุฉ
- [ ] ุฅุถุงูุฉ ุณุฌู ุชูุตููู ูููุฒุงููุฉ
- [ ] ุฅุถุงูุฉ ููุงุฑูุฉ ุงูุจูุงูุงุช ูุงูุชุญูู ูู ุงูุชูุงูู

---

## ๐ ุงูุฏุนู

ูููุณุงุนุฏุฉ ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงูู:
1. ุชุญูู ูู ุณุฌูุงุช GitHub Actions
2. ุฑุงุฌุน ูุณู ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ุฃุนูุงู
3. ุชุญูู ูู ุงุชุตุงู Odoo ู Supabase

---

**ุขุฎุฑ ุชุญุฏูุซ:** 7 ุฏูุณูุจุฑ 2024
**ุงูุฅุตุฏุงุฑ:** 1.0.0
